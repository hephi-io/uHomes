#!/bin/sh
# ðŸª Husky v9 pre-commit hook

# Load NVM only if available (safe for all environments)
if [ -s "$HOME/.nvm/nvm.sh" ]; then
  export NVM_DIR="$HOME/.nvm"
  . "$NVM_DIR/nvm.sh"
fi

# Run lint-staged using the local package manager
if command -v pnpm >/dev/null 2>&1; then
  pnpm exec --no -- commitlint --edit ${1}
elif command -v yarn >/dev/null 2>&1; then
  yarn --no -- commitlint --edit ${1}
else
  npm exec --no -- commitlint --edit ${1}
fi